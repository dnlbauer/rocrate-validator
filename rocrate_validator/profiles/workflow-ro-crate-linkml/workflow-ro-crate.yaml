id: https://github.com/crs4/rocrate-validator/profiles/workflow-ro-crate/linkml
name: workflow_ro_crate
prefixes:
  linkml: https://w3id.org/linkml/
  schema: http://schema.org/
  ORCID: https://orcid.org/
  bioschemas: https://bioschemas.org/
  roterms: http://purl.org/ro/roterms#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  sh: http://www.w3.org/ns/shacl#
  ro-crate: https://github.com/crs4/rocrate-validator/profiles/ro-crate/
  workflow-ro-crate: https://github.com/crs4/rocrate-validator/profiles/workflow-ro-crate/
imports:
  - linkml:types
default_range: string

classes:
  # basic classes, no validation performed?
  WorkflowROCrateRootDataEntity:
    class_uri: ro-crate:RootDataEntity
    mixins:
      - MainEntityPropertyMustExist

  # validation classes
  MainEntityPropertyMustExist:
    mixin: true
    title: Main Workflow entity existence
    description: >-
      The Main Workflow must be specified through a `mainEntity` property in the root data entity
    slots:
      - main_entity #pattern: "^\.\/$"
    slot_usage:
      - main_entity:
          description: Check if the Main Workflow is specified through a `mainEntity` property in the root data entity
          annotations:
            sh:message: The Main Workflow must be specified through a `mainEntity` property in the root data entity

  Workflow:
    class_uri: schema:CreativeWork
  
slots:
  main_entity:
    required: true
    slot_uri: schema:mainEntity
    range: Workflow
